---
# This layout overrides the theme's home with a custom hero and content wrapper.
---

<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
  {%- include head.html -%}
  <body class="home">
    {%- include header.html -%}

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <section class="hero">
          <h1>{{ page.title | default: site.title }}</h1>
          {%- if site.description -%}
          <p class="subtitle">{{ site.description }}</p>
          {%- endif -%}

          <!-- Quick Navigation Cards -->
          <div class="quick-nav">
            <div class="nav-grid">
              <a class="nav-card" href="#class-1">
                <h3>Class 1</h3>
                <p>Shell & Environment</p>
              </a>
              <a class="nav-card" href="#class-2">
                <h3>Class 2</h3>
                <p>Git Version Control</p>
              </a>
              <a class="nav-card" href="#class-3">
                <h3>Class 3</h3>
                <p>Data Structures</p>
              </a>
              <a class="nav-card" href="#class-4">
                <h3>Class 4</h3>
                <p>Polars</p>
              </a>
              <a class="nav-card" href="#class-5">
                <h3>Class 5</h3>
                <p>Arguments & Organization</p>
              </a>
            </div>
          </div>
        </section>

        <!-- Progress Indicator -->
        <section class="progress-section">
          <h2>Course Progress</h2>
          <div class="progress-bar">
            <div class="progress-step completed">1</div>
            <div class="progress-step">2</div>
            <div class="progress-step">3</div>
            <div class="progress-step">4</div>
            <div class="progress-step">5</div>
          </div>
        </section>

        <!-- Floating Navigation -->
        <nav class="floating-nav" id="floatingNav">
          <button class="nav-toggle" onclick="toggleNav()">≡</button>
          <div class="nav-items">
            <a href="#class-1" onclick="scrollToSection('class-1')">Class 1</a>
            <a href="#class-2" onclick="scrollToSection('class-2')">Class 2</a>
            <a href="#class-3" onclick="scrollToSection('class-3')">Class 3</a>
            <a href="#class-4" onclick="scrollToSection('class-4')">Class 4</a>
            <a href="#class-5" onclick="scrollToSection('class-5')">Class 5</a>
            <a href="#contributing" onclick="scrollToSection('contributing')">Contributing</a>
          </div>
        </nav>

        <section class="content">
          {{ content }}
        </section>

        <!-- Back to top button -->
        <button class="back-to-top" id="backToTop" onclick="scrollToTop()">↑</button>
      </div>
    </main>

    {%- include footer.html -%}

    <!-- Enhanced CSS -->
    <style>
      /* Quick Navigation Cards */
      .quick-nav {
        margin: 2rem 0;
      }

      .nav-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 1rem 0;
      }

      .nav-card {
        background: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 1.5rem;
        text-decoration: none;
        color: #495057;
        transition: all 0.3s ease;
        text-align: center;
      }

      .nav-card:hover {
        background: #e9ecef;
        border-color: #007bff;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,123,255,0.15);
      }

      .nav-card h3 {
        margin: 0 0 0.5rem 0;
        color: #007bff;
        font-size: 1.2rem;
      }

      .nav-card p {
        margin: 0;
        font-size: 0.9rem;
        color: #6c757d;
      }

      /* Progress Indicator */
      .progress-section {
        background: #f8f9fa;
        padding: 2rem;
        border-radius: 8px;
        margin: 2rem 0;
        text-align: center;
      }

      .progress-bar {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;
        margin-top: 1rem;
      }

      .progress-step {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #e9ecef;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: #6c757d;
        position: relative;
      }

      .progress-step.completed {
        background: #28a745;
        color: white;
      }

      .progress-step:not(:last-child)::after {
        content: '';
        position: absolute;
        right: -1.5rem;
        width: 2rem;
        height: 2px;
        background: #e9ecef;
        top: 50%;
        transform: translateY(-50%);
      }

      /* Floating Navigation */
      .floating-nav {
        position: fixed;
        top: 50%;
        right: 20px;
        transform: translateY(-50%);
        background: white;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 1000;
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .nav-toggle {
        background: #007bff;
        color: white;
        border: none;
        padding: 12px 16px;
        cursor: pointer;
        font-size: 18px;
        width: 100%;
      }

      .nav-items {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
      }

      .floating-nav.open .nav-items {
        max-height: 300px;
      }

      .nav-items a {
        display: block;
        padding: 12px 16px;
        text-decoration: none;
        color: #495057;
        border-bottom: 1px solid #e9ecef;
        transition: background 0.2s ease;
      }

      .nav-items a:hover {
        background: #f8f9fa;
        color: #007bff;
      }

      /* Back to top button */
      .back-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        font-size: 20px;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0,123,255,0.3);
        opacity: 0;
        transition: all 0.3s ease;
        z-index: 999;
      }

      .back-to-top.visible {
        opacity: 1;
      }

      .back-to-top:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0,123,255,0.4);
      }

      /* Mobile responsiveness */
      @media (max-width: 768px) {
        .floating-nav {
          position: relative;
          right: auto;
          top: auto;
          transform: none;
          margin: 2rem 0;
        }

        .nav-grid {
          grid-template-columns: 1fr;
        }

        .progress-bar {
          flex-wrap: wrap;
          gap: 0.5rem;
        }
      }

      /* Dark mode support */
      @media (prefers-color-scheme: dark) {
        .nav-card {
          background: #2d3748;
          border-color: #4a5568;
          color: #e2e8f0;
        }

        .nav-card:hover {
          background: #4a5568;
          border-color: #63b3ed;
        }

        .nav-card p {
          color: #a0aec0;
        }

        .progress-section {
          background: #2d3748;
          color: #e2e8f0;
        }

        .floating-nav {
          background: #2d3748;
        }

        .nav-items a {
          color: #e2e8f0;
          border-color: #4a5568;
        }
      }
    </style>

    <!-- Enhanced JavaScript -->
    <script>
      // Floating navigation toggle
      function toggleNav() {
        const nav = document.getElementById('floatingNav');
        nav.classList.toggle('open');
      }

      // Smooth scroll to sections
      function scrollToSection(sectionId) {
        const element = document.getElementById(sectionId);
        if (element) {
          element.scrollIntoView({ behavior: 'smooth' });
        }
        // Close floating nav on mobile
        document.getElementById('floatingNav').classList.remove('open');
      }

      // Back to top functionality
      function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      // Show/hide back to top button
      window.addEventListener('scroll', function() {
        const backToTop = document.getElementById('backToTop');
        if (window.pageYOffset > 300) {
          backToTop.classList.add('visible');
        } else {
          backToTop.classList.remove('visible');
        }
      });

      // Close floating nav when clicking outside
      document.addEventListener('click', function(e) {
        const nav = document.getElementById('floatingNav');
        if (!nav.contains(e.target)) {
          nav.classList.remove('open');
        }
      });

      // Highlight current section in navigation
      window.addEventListener('scroll', function() {
        const sections = ['class-1', 'class-2', 'class-3', 'class-4', 'class-5'];
        const navLinks = document.querySelectorAll('.nav-items a');

        sections.forEach((sectionId, index) => {
          const section = document.getElementById(sectionId);
          if (section) {
            const rect = section.getBoundingClientRect();
            if (rect.top <= 100 && rect.bottom >= 100) {
              navLinks.forEach(link => link.classList.remove('active'));
              if (navLinks[index]) {
                navLinks[index].classList.add('active');
              }
            }
          }
        });
      });
    </script>

    <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
  </body>
</html>